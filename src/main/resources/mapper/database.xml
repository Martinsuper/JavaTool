<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.younote.tool.database.dao.DatabaseMapper">
    <select id="getDatabaseList" parameterType="top.younote.tool.database.pojo.DatabaseTableVO"
            resultType="top.younote.tool.database.pojo.DataBaseTable">
        SELECT
            `column_name` AS 'fieldName',
            column_comment AS 'fieldDesc',
            UPPER(column_type) AS 'fieldType',
            IF(column_key = 'PRI', 'YES', 'NO') AS 'isPrimaryKey',
            IF(IS_NULLABLE = 'NO', 'YES', 'N1O') AS 'isNotNull'
        FROM
            information_schema.COLUMNS
        WHERE
            TABLE_SCHEMA = #{databaseName}
            AND `table_name` = #{tableName}
    </select>
    <select id="getDatabaseTableList" resultType="top.younote.tool.database.pojo.DatabaseTableVO">
        SELECT
            `table_name` AS 'tableName'
        FROM
            information_schema.tables
        WHERE
            table_schema = #{databaseName}
    </select>
</mapper>